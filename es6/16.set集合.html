<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>set集合</title>
  </head>
  <body>
    <script>
      //set集合有自动去重的特性

      const set = new Set(["A", "B", "C"]);
      //添加属性
      set.add("D");

      //是否包含此元素
      let has = set.has("E"); //return fase

      //返回集合大小
      let size = set.size; // return 4

      //删除元素
      set.delete("A");
      console.log(set);

      //遍历set集合
      for (let s of set) {
        console.log(s);
      }

      const person1 = { username: "leo", age: 18, Profession: "java" };
      const person2 = { username: "张三", age: 22, Profession: "javascript" };
      let pSet = new Set([person1, person2]);

      // logs the items in the order: 1, "some text", {"a": 1, "b": 2}, {"a": 1, "b": 2}
      for (let item of pSet.keys()) console.log(item);

      // logs the items in the order: 1, "some text", {"a": 1, "b": 2}, {"a": 1, "b": 2}
      for (let item of pSet.values()) console.log(item);

      // logs the items in the order: 1, "some text", {"a": 1, "b": 2}, {"a": 1, "b": 2}
      // (key and value are the same here)
      // for (let [key, value] of set.entries()) console.log(key)

      // convert Set object to an Array object, with Array.from
      const myArr = Array.from(set); // [1, "some text", {"a": 1, "b": 2}, {"a": 1, "b": 2}]

      //利用Set集合对数组去重
      let arr = [1, 2, 3, 4, 5, 5, 4, 3, 2, 1];
      let result = [...new Set(arr)];
      console.log(`去重后结果=${result}`);

      //获取交集数据
      let arr1 = [1, 3, 5];
      let result1 = [...new Set(arr)].filter((item) => new Set(arr1).has(item));
      console.log(`交集数据=${result1}`);

      //获取并集数据
      let union = [...new Set([...arr, ...arr1])];
      console.log(`并集数据=${union}`);

      let seta = new Set(["red", "green", "blue"]);
      for (let item of seta.keys()) {
        console.log(item);
      }
      // red
      // green
      // blue

      for (let item of seta.values()) {
        console.log(item);
      }
      // red
      // green
      // blue

      for (let item of seta.entries()) {
        console.log(item);
      }
      // ["red", "red"]
      // ["green", "green"]
      // ["blue", "blue"]

      let setb = new Set([1, 4, 9]);
      setb.forEach((value, key) => console.log(key + " : " + value));
      
    </script>
  </body>
</html>
